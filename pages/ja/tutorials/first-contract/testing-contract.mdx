# コントラクトのテスト

このページは現在準備中です。翻訳は後日提供されます。

英語版のドキュメントは[こちら](/en/tutorials/first-contract/testing-contract)でご覧いただけます。

<div className="flex justify-center my-8">
  <img src="/assets/contract-testing.png" alt="Contract Testing" className="rounded-lg shadow-md max-w-full" />
</div>

## スマートコントラクトのテスト方法

### Hardhatを使用したテスト

```javascript
// test/SimpleStorage.test.js
const { expect } = require("chai");
const { ethers } = require("hardhat");

describe("SimpleStorage", function () {
  let simpleStorage;
  let owner;
  let addr1;

  beforeEach(async function () {
    // コントラクトをデプロイ
    const SimpleStorage = await ethers.getContractFactory("SimpleStorage");
    [owner, addr1] = await ethers.getSigners();
    simpleStorage = await SimpleStorage.deploy();
    await simpleStorage.deployed();
  });

  it("初期値は0であるべき", async function () {
    expect(await simpleStorage.get()).to.equal(0);
  });

  it("値を設定できるべき", async function () {
    const setTx = await simpleStorage.set(42);
    await setTx.wait();
    expect(await simpleStorage.get()).to.equal(42);
  });

  it("別のアカウントから値を設定できるべき", async function () {
    const setTx = await simpleStorage.connect(addr1).set(100);
    await setTx.wait();
    expect(await simpleStorage.get()).to.equal(100);
  });
});
```

### Foundryを使用したテスト

```solidity
// test/SimpleStorage.t.sol
// SPDX-License-Identifier: MIT
pragma solidity ^0.8.0;

import "forge-std/Test.sol";
import "../src/SimpleStorage.sol";

contract SimpleStorageTest is Test {
    SimpleStorage simpleStorage;
    address owner = address(1);
    address user = address(2);

    function setUp() public {
        vm.prank(owner);
        simpleStorage = new SimpleStorage();
    }

    function testInitialValue() public {
        assertEq(simpleStorage.get(), 0, "初期値は0であるべき");
    }

    function testSetValue() public {
        vm.prank(owner);
        simpleStorage.set(42);
        assertEq(simpleStorage.get(), 42, "値は42に設定されるべき");
    }

    function testSetValueFromDifferentAccount() public {
        vm.prank(user);
        simpleStorage.set(100);
        assertEq(simpleStorage.get(), 100, "値は100に設定されるべき");
    }
}
```

### テスト実行コマンド

Hardhatの場合:
```bash
npx hardhat test
```

Foundryの場合:
```bash
forge test -vv
``` 