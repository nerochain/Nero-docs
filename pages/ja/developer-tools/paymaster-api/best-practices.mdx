import PageFeedback from '../../../../components/PageFeedback'

# ベストプラクティス

## 1. UserOpSDKを活用する
SDKはペイマスターAPIとUserOperationsとのやり取りに関連する複雑さの多くを管理します。リトライと組み込みのエラー処理により、統合が大幅に簡素化されます。

## 2. サポートされているトークンをキャッシュする
サポートされているトークンのリストを定期的に更新して、頻繁なAPIリクエストを防ぎます。これによりサーバーの負担が軽減され、パフォーマンスが向上します。

## 3. 適切なエラー処理を適用する
常に障害の種類に応じてエラーをキャッチし、適切に処理してください。ネットワーク問題などの特定のエラーは_再試行可能_かもしれませんが、不適切なパラメーターなどの他のエラーは人間の介入を必要とします。

## 4. トークン承認を評価する
タイプ1と2の支払いでは、UserOperationを転送する前にユーザーのトークン支払い承認を確認してください。これによりユーザーエクスペリエンスが向上し、無駄な失敗を排除するのに役立ちます。

## 5. APIキーを安全に保管する
クライアント向けに書かれたコードにAPIキーを表示しないでください。常にバックエンドシステムで安全に保管してください。

## 6. 消費量を追跡する
クォータを超えることによる予期しないサービス停止を防ぐために、AAプラットフォームでスポンサーシップの使用状況を追跡してください。

## 7. 適切なガス制限を設定する
ガス見積もり方法を使用して、UserOperationsの正確なガス値を取得してください。適切な制限により費用が最適化され、トランザクションの失敗を最小限に抑えるのに役立ちます。

## 8. レート制限とクォータ
APIの使用は、AAプラットフォームアカウントにある設定によって制限されています：

- 日次ガス制限
- トランザクション数制限
- トークン許可リスト
- ガス価格上限

これらの設定は[AAプラットフォーム](https://aa-platform.nerochain.io)で監視および調整できます。

<PageFeedback path="/ja/developer-tools/paymaster-api/best-practices" />

